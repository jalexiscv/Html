<html lang="utf-8">
<head>
    <title>Webpush Server</title>
    <script>
        const sendEndpoint = "https://darkchat.xn--cm-fka.co:3456/send";
        const sendNotification = async () => {
            const data = document.getElementById("notification").value;
            const res = await fetch(sendEndpoint, {
                method: "POST",
                headers: {
                    Accept: "application/json",
                    "Content-Type": "application/json"
                },
                body: JSON.stringify(JSON.parse(data))
            });
            return res.status === 200 ? res.json() : false;
        };
    </script>
</head>

<body>
<div id="root">
      <textarea cols="70" id="notification" rows="3">
{"title": "Notification title", "body": "View in my site.", "url":"https://mysite.com"}</textarea
      >
    <input
            onClick="javascript:sendNotification();"
            type="button"
            value="Send notification"
    />
</div>
<script src="register.js"></script>
</body>
</html>
