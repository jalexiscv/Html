<!--
  ~ /***
  ~  ** █ ---------------------------------------------------------------------------------------------------------------------
  ~  ** █ ░FRAMEWORK                                  2023-12-01 23:19:27
  ~  ** █ ░█▀▀█ █▀▀█ █▀▀▄ █▀▀ ░█─░█ ─▀─ █▀▀▀ █▀▀▀ █▀▀ [App\Modules\Account\Views\Processes\Creator\deny.php]
  ~  ** █ ░█─── █──█ █──█ █▀▀ ░█▀▀█ ▀█▀ █─▀█ █─▀█ ▀▀█ Copyright 2023 - CloudEngine S.A.S., Inc. <admin@cgine.com>
  ~  ** █ ░█▄▄█ ▀▀▀▀ ▀▀▀─ ▀▀▀ ░█─░█ ▀▀▀ ▀▀▀▀ ▀▀▀▀ ▀▀▀ Para obtener información completa sobre derechos de autor y licencia,
  ~  ** █                                             consulte la LICENCIA archivo que se distribuyó con este código fuente.
  ~  ** █ ---------------------------------------------------------------------------------------------------------------------
  ~  ** █ EL SOFTWARE SE PROPORCIONA -TAL CUAL-, SIN GARANTÍA DE NINGÚN TIPO, EXPRESA O
  ~  ** █ IMPLÍCITA, INCLUYENDO PERO NO LIMITADO A LAS GARANTÍAS DE COMERCIABILIDAD,
  ~  ** █ APTITUD PARA UN PROPÓSITO PARTICULAR Y NO INFRACCIÓN. EN NINGÚN CASO SERÁ
  ~  ** █ LOS AUTORES O TITULARES DE LOS DERECHOS DE AUTOR SERÁN RESPONSABLES DE CUALQUIER
  ~  ** █ RECLAMO, DAÑOS U OTROS RESPONSABILIDAD, YA SEA EN UNA ACCIÓN DE CONTRATO,
  ~  ** █ AGRAVIO O DE OTRO MODO, QUE SURJA DESDE, FUERA O EN RELACIÓN CON EL SOFTWARE
  ~  ** █ O EL USO U OTROS NEGOCIACIONES EN EL SOFTWARE.
  ~  ** █ ---------------------------------------------------------------------------------------------------------------------
  ~  ** █ @Author Jose Alexis Correa Valencia <jalexiscv@gmail.com>
  ~  ** █ @link https://www.codehiggs.com
  ~  ** █ @Version 1.5.0 @since PHP 7, PHP 8
  ~  ** █ ---------------------------------------------------------------------------------------------------------------------
  ~  ** █ Datos recibidos desde el controlador - @ModuleController
  ~  ** █ ---------------------------------------------------------------------------------------------------------------------
  ~  ** █ @authentication, @request, @dates, @parent, @component, @view, @oid, @views, @prefix
  ~  ** █ ---------------------------------------------------------------------------------------------------------------------
  ~  ***/
  -->

<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
    <meta charset="utf-8"/>
    <meta content="Docutils 0.17.1: http://docutils.sourceforge.net/" name="generator"/>

    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <title>Throttler &mdash; Higgs 7.0.0 documentation</title>
    <link href="../_static/pygments.css" rel="stylesheet" type="text/css"/>
    <link href="../_static/css/citheme.css" rel="stylesheet" type="text/css"/>
    <link href="../_static/css/citheme_dark.css" rel="stylesheet" type="text/css"/>
    <link href="../_static/favicon.ico" rel="shortcut icon"/>
    <!--[if lt IE 9]>
      <script src="../_static/js/html5shiv.min.js"></script>
    <![endif]-->

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/js/citheme.js"></script>
    <script src="../_static/js/carbon.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link href="../genindex.html" rel="index" title="Index"/>
    <link href="../search.html" rel="search" title="Search"/>
    <link href="time.html" rel="next" title="Times and Dates"/>
    <link href="sessions.html" rel="prev" title="Session Library"/>
</head>

<body class="wy-body-for-nav">
<div class="wy-grid-for-nav">
    <nav class="wy-nav-side" data-toggle="wy-nav-shift">
        <div class="wy-side-scroll">
            <div class="wy-side-nav-search">


                <a href="../index.html">

                    <img alt="Logo" class="logo" src="../_static/ci-logo-text.svg"/>
                </a>
                <div role="search">
                    <form action="../search.html" class="wy-form" id="rtd-search-form" method="get">
                        <input aria-label="Search docs" name="q" placeholder="Search docs" type="text"/>
                        <input name="check_keywords" type="hidden" value="yes"/>
                        <input name="area" type="hidden" value="default"/>
                    </form>
                </div>
            </div>
            <div aria-label="Navigation menu" class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../intro/index.html">Bienvenido a
                        Higgs7</a>
                        <ul>
                            <li class="toctree-l2"><a class="reference internal" href="../intro/index.html">Bienvenido a
                                Higgs7</a></li>
                            <li class="toctree-l2"><a class="reference internal" href="../intro/requirements.html">Requisitos
                                del ejecución</a></li>
                            <li class="toctree-l2"><a class="reference internal"
                                                      href="../intro/credits.html">Creditos</a></li>
                            <li class="toctree-l2"><a class="reference internal" href="../intro/psr.html">Cumplimiento
                                de PSR</a></li>
                            <li class="toctree-l2"><a class="reference internal" href="../license.html">Acuerdo de
                                licencia</a></li>
                        </ul>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal"
                                              href="../installation/index.html">Instalación</a>
                        <ul>
                            <li class="toctree-l2"><a class="reference internal"
                                                      href="../installation/installing_composer.html">Instalación del
                                compositor</a></li>
                            <li class="toctree-l2"><a class="reference internal"
                                                      href="../installation/installing_manual.html">Instalación
                                manual</a></li>
                            <li class="toctree-l2"><a class="reference internal" href="../installation/running.html">Ejecutando
                                su aplicación</a></li>
                            <li class="toctree-l2"><a class="reference internal"
                                                      href="../installation/troubleshooting.html">Solución de
                                problemas</a></li>
                            <li class="toctree-l2"><a class="reference internal" href="../changelogs/index.html">Registro
                                de cambios</a></li>
                            <li class="toctree-l2"><a class="reference internal" href="../installation/upgrading.html">Actualización
                                desde una versión anterior</a></li>
                            <li class="toctree-l2"><a class="reference internal"
                                                      href="../installation/repositories.html">Repositorios de Higgs</a>
                            </li>
                        </ul>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../tutorial/index.html">Build Your First
                        Application</a>
                        <ul>
                            <li class="toctree-l2"><a class="reference internal" href="../tutorial/static_pages.html">Static
                                Pages</a></li>
                            <li class="toctree-l2"><a class="reference internal" href="../tutorial/news_section.html">News
                                Section</a></li>
                            <li class="toctree-l2"><a class="reference internal"
                                                      href="../tutorial/create_news_items.html">Create News Items</a>
                            </li>
                            <li class="toctree-l2"><a class="reference internal" href="../tutorial/conclusion.html">Conclusion</a>
                            </li>
                        </ul>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../concepts/index.html">Higgs7
                        Overview</a>
                        <ul>
                            <li class="toctree-l2"><a class="reference internal" href="../concepts/structure.html">Application
                                Structure</a></li>
                            <li class="toctree-l2"><a class="reference internal" href="../concepts/mvc.html">Models,
                                Views, and Controllers</a></li>
                            <li class="toctree-l2"><a class="reference internal" href="../concepts/autoloader.html">Autoloading
                                Files</a></li>
                            <li class="toctree-l2"><a class="reference internal" href="../concepts/services.html">Services</a>
                            </li>
                            <li class="toctree-l2"><a class="reference internal" href="../concepts/factories.html">Factories</a>
                            </li>
                            <li class="toctree-l2"><a class="reference internal" href="../concepts/http.html">Working
                                with HTTP Requests</a></li>
                            <li class="toctree-l2"><a class="reference internal" href="../concepts/security.html">Security
                                Guidelines</a></li>
                        </ul>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../general/index.html">General Topics</a>
                        <ul>
                            <li class="toctree-l2"><a class="reference internal" href="../general/configuration.html">Configuration</a>
                            </li>
                            <li class="toctree-l2"><a class="reference internal" href="../general/urls.html">Higgs
                                URLs</a></li>
                            <li class="toctree-l2"><a class="reference internal" href="../general/helpers.html">Helper
                                Functions</a></li>
                            <li class="toctree-l2"><a class="reference internal"
                                                      href="../general/common_functions.html">Global Functions and
                                Constants</a></li>
                            <li class="toctree-l2"><a class="reference internal" href="../general/logging.html">Logging
                                Information</a></li>
                            <li class="toctree-l2"><a class="reference internal" href="../general/errors.html">Error
                                Handling</a></li>
                            <li class="toctree-l2"><a class="reference internal" href="../general/caching.html">Web Page
                                Caching</a></li>
                            <li class="toctree-l2"><a class="reference internal" href="../general/ajax.html">AJAX
                                Requests</a></li>
                            <li class="toctree-l2"><a class="reference internal" href="../general/modules.html">Code
                                Modules</a></li>
                            <li class="toctree-l2"><a class="reference internal" href="../general/managing_apps.html">Managing
                                your Applications</a></li>
                            <li class="toctree-l2"><a class="reference internal" href="../general/environments.html">Handling
                                Multiple Environments</a></li>
                        </ul>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../incoming/index.html">Controllers and
                        Routing</a>
                        <ul>
                            <li class="toctree-l2"><a class="reference internal" href="../incoming/routing.html">URI
                                Routing</a></li>
                            <li class="toctree-l2"><a class="reference internal" href="../incoming/controllers.html">Controllers</a>
                            </li>
                            <li class="toctree-l2"><a class="reference internal" href="../incoming/filters.html">Controller
                                Filters</a></li>
                            <li class="toctree-l2"><a class="reference internal" href="../incoming/message.html">HTTP
                                Messages</a></li>
                            <li class="toctree-l2"><a class="reference internal" href="../incoming/request.html">Request
                                Class</a></li>
                            <li class="toctree-l2"><a class="reference internal"
                                                      href="../incoming/incomingrequest.html">IncomingRequest Class</a>
                            </li>
                            <li class="toctree-l2"><a class="reference internal"
                                                      href="../incoming/content_negotiation.html">Content
                                Negotiation</a></li>
                            <li class="toctree-l2"><a class="reference internal" href="../incoming/methodspoofing.html">HTTP
                                Method Spoofing</a></li>
                            <li class="toctree-l2"><a class="reference internal" href="../incoming/restful.html">RESTful
                                Resource Handling</a></li>
                        </ul>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../outgoing/index.html">Building
                        Responses</a>
                        <ul>
                            <li class="toctree-l2"><a class="reference internal" href="../outgoing/views.html">Views</a>
                            </li>
                            <li class="toctree-l2"><a class="reference internal" href="../outgoing/view_cells.html">View
                                Cells</a></li>
                            <li class="toctree-l2"><a class="reference internal" href="../outgoing/view_renderer.html">View
                                Renderer</a></li>
                            <li class="toctree-l2"><a class="reference internal" href="../outgoing/view_layouts.html">View
                                Layouts</a></li>
                            <li class="toctree-l2"><a class="reference internal" href="../outgoing/view_parser.html">View
                                Parser</a></li>
                            <li class="toctree-l2"><a class="reference internal"
                                                      href="../outgoing/view_decorators.html">View Decorators</a></li>
                            <li class="toctree-l2"><a class="reference internal" href="../outgoing/table.html">HTML
                                Table Class</a></li>
                            <li class="toctree-l2"><a class="reference internal" href="../outgoing/response.html">HTTP
                                Responses</a></li>
                            <li class="toctree-l2"><a class="reference internal" href="../outgoing/api_responses.html">API
                                Response Trait</a></li>
                            <li class="toctree-l2"><a class="reference internal" href="../outgoing/csp.html">Content
                                Security Policy</a></li>
                            <li class="toctree-l2"><a class="reference internal" href="../outgoing/localization.html">Localization</a>
                            </li>
                            <li class="toctree-l2"><a class="reference internal"
                                                      href="../outgoing/alternative_php.html">Alternate PHP Syntax for
                                View Files</a></li>
                        </ul>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../database/index.html">Working with
                        Databases</a>
                        <ul>
                            <li class="toctree-l2"><a class="reference internal" href="../database/examples.html">Quick
                                Start: Usage Examples</a></li>
                            <li class="toctree-l2"><a class="reference internal" href="../database/configuration.html">Database
                                Configuration</a></li>
                            <li class="toctree-l2"><a class="reference internal" href="../database/connecting.html">Connecting
                                to a Database</a></li>
                            <li class="toctree-l2"><a class="reference internal" href="../database/queries.html">Running
                                Queries</a></li>
                            <li class="toctree-l2"><a class="reference internal" href="../database/results.html">Generating
                                Query Results</a></li>
                            <li class="toctree-l2"><a class="reference internal" href="../database/helpers.html">Query
                                Helper Functions</a></li>
                            <li class="toctree-l2"><a class="reference internal" href="../database/query_builder.html">Query
                                Builder Class</a></li>
                            <li class="toctree-l2"><a class="reference internal" href="../database/transactions.html">Transactions</a>
                            </li>
                            <li class="toctree-l2"><a class="reference internal" href="../database/metadata.html">Getting
                                MetaData</a></li>
                            <li class="toctree-l2"><a class="reference internal" href="../database/call_function.html">Custom
                                Function Calls</a></li>
                            <li class="toctree-l2"><a class="reference internal" href="../database/events.html">Database
                                Events</a></li>
                            <li class="toctree-l2"><a class="reference internal" href="../database/utilities.html">Database
                                Utilities</a></li>
                        </ul>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../models/index.html">Modeling Data</a>
                        <ul>
                            <li class="toctree-l2"><a class="reference internal" href="../models/model.html">Using
                                Higgs's Model</a></li>
                            <li class="toctree-l2"><a class="reference internal" href="../models/entities.html">Using
                                Entity Classes</a></li>
                        </ul>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../dbmgmt/index.html">Managing
                        Databases</a>
                        <ul>
                            <li class="toctree-l2"><a class="reference internal" href="../dbmgmt/forge.html">Database
                                Manipulation with Database Forge</a></li>
                            <li class="toctree-l2"><a class="reference internal" href="../dbmgmt/migration.html">Database
                                Migrations</a></li>
                            <li class="toctree-l2"><a class="reference internal" href="../dbmgmt/seeds.html">Database
                                Seeding</a></li>
                            <li class="toctree-l2"><a class="reference internal" href="../dbmgmt/db_commands.html">Database
                                Commands</a></li>
                        </ul>
                    </li>
                </ul>
                <ul class="current">
                    <li class="toctree-l1 current"><a class="reference internal" href="index.html">Library Reference</a>
                        <ul class="current">
                            <li class="toctree-l2"><a class="reference internal" href="caching.html">Caching Driver</a>
                            </li>
                            <li class="toctree-l2"><a class="reference internal" href="cookies.html">Cookies</a></li>
                            <li class="toctree-l2"><a class="reference internal" href="curlrequest.html">CURLRequest
                                Class</a></li>
                            <li class="toctree-l2"><a class="reference internal" href="email.html">Email Class</a></li>
                            <li class="toctree-l2"><a class="reference internal" href="encryption.html">Encryption
                                Service</a></li>
                            <li class="toctree-l2"><a class="reference internal" href="files.html">Working with
                                Files</a></li>
                            <li class="toctree-l2"><a class="reference internal" href="file_collections.html">File
                                Collections</a></li>
                            <li class="toctree-l2"><a class="reference internal" href="honeypot.html">Honeypot Class</a>
                            </li>
                            <li class="toctree-l2"><a class="reference internal" href="images.html">Image Manipulation
                                Class</a></li>
                            <li class="toctree-l2"><a class="reference internal" href="pagination.html">Pagination</a>
                            </li>
                            <li class="toctree-l2"><a class="reference internal" href="publisher.html">Publisher</a>
                            </li>
                            <li class="toctree-l2"><a class="reference internal" href="security.html">Security</a></li>
                            <li class="toctree-l2"><a class="reference internal" href="sessions.html">Session
                                Library</a></li>
                            <li class="toctree-l2 current"><a class="current reference internal" href="#">Throttler</a>
                            </li>
                            <li class="toctree-l2"><a class="reference internal" href="time.html">Times and Dates</a>
                            </li>
                            <li class="toctree-l2"><a class="reference internal" href="typography.html">Typography</a>
                            </li>
                            <li class="toctree-l2"><a class="reference internal" href="uploaded_files.html">Working with
                                Uploaded Files</a></li>
                            <li class="toctree-l2"><a class="reference internal" href="uri.html">Working with URIs</a>
                            </li>
                            <li class="toctree-l2"><a class="reference internal" href="user_agent.html">User Agent
                                Class</a></li>
                            <li class="toctree-l2"><a class="reference internal" href="validation.html">Validation</a>
                            </li>
                        </ul>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../helpers/index.html">Helpers</a>
                        <ul>
                            <li class="toctree-l2"><a class="reference internal" href="../helpers/array_helper.html">Array
                                Helper</a></li>
                            <li class="toctree-l2"><a class="reference internal" href="../helpers/cookie_helper.html">Cookie
                                Helper</a></li>
                            <li class="toctree-l2"><a class="reference internal" href="../helpers/date_helper.html">Date
                                Helper</a></li>
                            <li class="toctree-l2"><a class="reference internal"
                                                      href="../helpers/filesystem_helper.html">Filesystem Helper</a>
                            </li>
                            <li class="toctree-l2"><a class="reference internal" href="../helpers/form_helper.html">Form
                                Helper</a></li>
                            <li class="toctree-l2"><a class="reference internal" href="../helpers/html_helper.html">HTML
                                Helper</a></li>
                            <li class="toctree-l2"><a class="reference internal"
                                                      href="../helpers/inflector_helper.html">Inflector Helper</a></li>
                            <li class="toctree-l2"><a class="reference internal" href="../helpers/number_helper.html">Number
                                Helper</a></li>
                            <li class="toctree-l2"><a class="reference internal" href="../helpers/security_helper.html">Security
                                Helper</a></li>
                            <li class="toctree-l2"><a class="reference internal" href="../helpers/test_helper.html">Test
                                Helper</a></li>
                            <li class="toctree-l2"><a class="reference internal" href="../helpers/text_helper.html">Text
                                Helper</a></li>
                            <li class="toctree-l2"><a class="reference internal" href="../helpers/url_helper.html">URL
                                Helper</a></li>
                            <li class="toctree-l2"><a class="reference internal" href="../helpers/xml_helper.html">XML
                                Helper</a></li>
                        </ul>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../testing/index.html">Testing</a>
                        <ul>
                            <li class="toctree-l2"><a class="reference internal" href="../testing/overview.html">Getting
                                Started</a></li>
                            <li class="toctree-l2"><a class="reference internal" href="../testing/database.html">Database</a>
                            </li>
                            <li class="toctree-l2"><a class="reference internal" href="../testing/fabricator.html">Generating
                                Data</a></li>
                            <li class="toctree-l2"><a class="reference internal" href="../testing/controllers.html">Controller
                                Testing</a></li>
                            <li class="toctree-l2"><a class="reference internal" href="../testing/feature.html">HTTP
                                Testing</a></li>
                            <li class="toctree-l2"><a class="reference internal" href="../testing/response.html">Testing
                                Responses</a></li>
                            <li class="toctree-l2"><a class="reference internal" href="../testing/benchmark.html">Benchmarking</a>
                            </li>
                            <li class="toctree-l2"><a class="reference internal" href="../testing/debugging.html">Debugging
                                Your Application</a></li>
                            <li class="toctree-l2"><a class="reference internal"
                                                      href="../testing/mocking.html">Mocking</a></li>
                        </ul>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../cli/index.html">Command Line Usage</a>
                        <ul>
                            <li class="toctree-l2"><a class="reference internal" href="../cli/cli_overview.html">CLI
                                Overview</a></li>
                            <li class="toctree-l2"><a class="reference internal" href="../cli/cli_controllers.html">Running
                                Controllers via CLI</a></li>
                            <li class="toctree-l2"><a class="reference internal" href="../cli/spark_commands.html">Spark
                                Commands</a></li>
                            <li class="toctree-l2"><a class="reference internal" href="../cli/cli_commands.html">Creating
                                Spark Commands</a></li>
                            <li class="toctree-l2"><a class="reference internal" href="../cli/cli_generators.html">CLI
                                Generators</a></li>
                            <li class="toctree-l2"><a class="reference internal" href="../cli/cli_library.html">CLI
                                Library</a></li>
                            <li class="toctree-l2"><a class="reference internal" href="../cli/cli_request.html">CLIRequest
                                Class</a></li>
                        </ul>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../extending/index.html">Extending
                        Higgs</a>
                        <ul>
                            <li class="toctree-l2"><a class="reference internal" href="../extending/core_classes.html">Creating
                                Core System Classes</a></li>
                            <li class="toctree-l2"><a class="reference internal" href="../extending/common.html">Replacing
                                Common Functions</a></li>
                            <li class="toctree-l2"><a class="reference internal"
                                                      href="../extending/events.html">Events</a></li>
                            <li class="toctree-l2"><a class="reference internal"
                                                      href="../extending/basecontroller.html">Extending the
                                Controller</a></li>
                            <li class="toctree-l2"><a class="reference internal"
                                                      href="../extending/authentication.html">Authentication</a></li>
                            <li class="toctree-l2"><a class="reference internal"
                                                      href="../extending/composer_packages.html">Creating Composer
                                Packages</a></li>
                            <li class="toctree-l2"><a class="reference internal" href="../extending/contributing.html">Contributing
                                to Higgs</a></li>
                        </ul>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="official_packages.html">Official
                        Packages</a></li>
                </ul>

            </div>
        </div>
    </nav>

    <section class="wy-nav-content-wrap" data-toggle="wy-nav-shift">
        <nav aria-label="Mobile navigation menu" class="wy-nav-top">
            <i class="fa fa-bars" data-toggle="wy-nav-top"></i>
            <a href="../index.html">Higgs</a>
        </nav>

        <div class="wy-nav-content">
            <div class="rst-content">
                <a class="btn btn-neutral float-right"
                   href="https://github.com/higgs/Higgs7/edit/develop/user_guide_src/source/libraries/throttler.rst">Edit
                    this page</a>

                <div aria-label="Page navigation" role="navigation">
                    <ul class="wy-breadcrumbs">
                        <li><a aria-label="Home" class="icon icon-home" href="../index.html"></a></li>
                        <li class="breadcrumb-item"><a href="index.html">Library Reference</a></li>
                        <li class="breadcrumb-item active">Throttler</li>
                        <li class="wy-breadcrumbs-aside">
                        </li>
                    </ul>
                    <hr/>
                </div>
                <div class="document" itemscope="itemscope" itemtype="http://schema.org/Article" role="main">
                    <div itemprop="articleBody">

                        <section id="throttler">
                            <h1>Throttler<a class="headerlink" href="#throttler"
                                            title="Permalink to this headline"></a></h1>
                            <div class="contents local topic" id="contents">
                                <ul class="simple">
                                    <li><p><a class="reference internal" href="#overview" id="id1">Overview</a></p></li>
                                    <li><p><a class="reference internal" href="#rate-limiting" id="id2">Rate
                                        Limiting</a></p>
                                        <ul>
                                            <li><p><a class="reference internal" href="#the-code" id="id3">The Code</a>
                                            </p></li>
                                            <li><p><a class="reference internal" href="#applying-the-filter" id="id4">Applying
                                                the Filter</a></p></li>
                                        </ul>
                                    </li>
                                    <li><p><a class="reference internal" href="#class-reference" id="id5">Class
                                        Reference</a></p></li>
                                </ul>
                            </div>
                            <p>The Throttler class provides a very simple way to limit an activity to be performed to a
                                certain number of attempts
                                within a set period of time. This is most often used for performing rate limiting on
                                APIs, or restricting the number
                                of attempts a user can make against a form to help prevent brute force attacks. The
                                class itself can be used
                                for anything that you need to throttle based on actions within a set time interval.</p>
                            <section id="overview">
                                <h2><a class="toc-backref" href="#id1">Overview</a><a class="headerlink"
                                                                                      href="#overview"
                                                                                      title="Permalink to this headline"></a>
                                </h2>
                                <p>The Throttler implements a simplified version of the <a class="reference external"
                                                                                           href="https://en.wikipedia.org/wiki/Token_bucket">Token
                                    Bucket</a>
                                    algorithm. This basically treats each action that you want as a bucket. When you
                                    call the <code class="docutils literal notranslate"><span class="pre">check()</span></code>
                                    method,
                                    you tell it how large the bucket is, and how many tokens it can hold and the time
                                    interval. Each <code class="docutils literal notranslate"><span
                                            class="pre">check()</span></code> call uses
                                    1 of the available tokens, by default. Let’s walk through an example to make this
                                    clear.</p>
                                <p>Let’s say we want an action to happen once every second. The first call to the
                                    Throttler would look like the following.
                                    The first parameter is the bucket name, the second parameter the number of tokens
                                    the bucket holds, and
                                    the third being the amount of time it takes the bucket to refill:</p>
                                <div class="highlight-html+php notranslate">
                                    <div class="highlight"><pre><span></span><span class="o">&lt;?</span><span
                                            class="nx">php</span>

<span class="nv">$throttler</span> <span class="o">=</span> <span class="nx">\Config\Services</span><span
                                                class="o">::</span><span class="na">throttler</span><span
                                                class="p">();</span>
<span class="nv">$throttler</span><span class="o">-&gt;</span><span class="na">check</span><span class="p">(</span><span
                                                class="nv">$name</span><span class="p">,</span> <span
                                                class="mi">60</span><span class="p">,</span> <span
                                                class="nx">MINUTE</span><span class="p">);</span>
</pre>
                                    </div>
                                </div>
                                <p>Here we’re using one of the <a class="reference internal"
                                                                  href="../general/common_functions.html"><span
                                        class="doc">global constants</span></a> for the time, to make it a little
                                    more readable. This says that the bucket allows 60 actions every minute, or 1 action
                                    every second.</p>
                                <p>Let’s say that a third-party script was trying to hit a URL repeatedly. At first, it
                                    would be able to use all 60
                                    of those tokens in less than a second. However, after that the Throttler would only
                                    allow one action per second,
                                    potentially slowing down the requests enough that the attack is no longer worth
                                    it.</p>
                                <div class="admonition note">
                                    <p class="admonition-title">Note</p>
                                    <p>For the Throttler class to work, the Cache library must be set up to use a
                                        handler other than dummy.
                                        For best performance, an in-memory cache, like Redis or Memcached, is
                                        recommended.</p>
                                </div>
                            </section>
                            <section id="rate-limiting">
                                <h2><a class="toc-backref" href="#id2">Rate Limiting</a><a class="headerlink"
                                                                                           href="#rate-limiting"
                                                                                           title="Permalink to this headline"></a>
                                </h2>
                                <p>The Throttler class does not do any rate limiting or request throttling on its own,
                                    but is the key to making
                                    one work. An example <a class="reference internal"
                                                            href="../incoming/filters.html"><span
                                            class="doc">Filter</span></a> is provided that implements a very simple rate
                                    limiting at
                                    one request per second per IP address. Here we will run through how it works, and
                                    how you could set it up and
                                    start using it in your application.</p>
                                <section id="the-code">
                                    <h3><a class="toc-backref" href="#id3">The Code</a><a class="headerlink"
                                                                                          href="#the-code"
                                                                                          title="Permalink to this headline"></a>
                                    </h3>
                                    <p>You could make your own Throttler filter, at
                                        <strong>app/Filters/Throttle.php</strong>,
                                        along the lines of:</p>
                                    <div class="highlight-html+php notranslate">
                                        <div class="highlight"><pre><span></span><span class="o">&lt;?</span><span
                                                class="nx">php</span>

<span class="k">namespace</span> <span class="nx">App\Filters</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">Higgs\Filters\FilterInterface</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Higgs\HTTP\RequestInterface</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Higgs\HTTP\ResponseInterface</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Config\Services</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">Throttle</span> <span class="k">implements</span> <span class="nx">FilterInterface</span>
<span class="p">{</span>
    <span class="sd">/**</span>
<span class="sd">     * This is a demo implementation of using the Throttler class</span>
<span class="sd">     * to implement rate limiting for your application.</span>
<span class="sd">     *</span>
<span class="sd">     * @param array|null $arguments</span>
<span class="sd">     *</span>
<span class="sd">     * @return mixed</span>
<span class="sd">     */</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">before</span><span class="p">(</span><span
                                                    class="nx">RequestInterface</span> <span
                                                    class="nv">$request</span><span class="p">,</span> <span class="nv">$arguments</span> <span
                                                    class="o">=</span> <span class="k">null</span><span
                                                    class="p">)</span>
    <span class="p">{</span>
        <span class="nv">$throttler</span> <span class="o">=</span> <span class="nx">Services</span><span
                                                    class="o">::</span><span class="na">throttler</span><span class="p">();</span>

        <span class="c1">// Restrict an IP address to no more than 1 request</span>
        <span class="c1">// per second across the entire site.</span>
        <span class="k">if</span> <span class="p">(</span><span class="nv">$throttler</span><span class="o">-&gt;</span><span
                                                    class="na">check</span><span class="p">(</span><span
                                                    class="nb">md5</span><span class="p">(</span><span class="nv">$request</span><span
                                                    class="o">-&gt;</span><span class="na">getIPAddress</span><span
                                                    class="p">()),</span> <span class="mi">60</span><span
                                                    class="p">,</span> <span class="nx">MINUTE</span><span
                                                    class="p">)</span> <span class="o">===</span> <span
                                                    class="k">false</span><span class="p">)</span> <span
                                                    class="p">{</span>
            <span class="k">return</span> <span class="nx">Services</span><span class="o">::</span><span class="na">response</span><span
                                                    class="p">()</span><span class="o">-&gt;</span><span class="na">setStatusCode</span><span
                                                    class="p">(</span><span class="mi">429</span><span
                                                    class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="sd">/**</span>
<span class="sd">     * We don&#39;t have anything to do here.</span>
<span class="sd">     *</span>
<span class="sd">     * @param array|null $arguments</span>
<span class="sd">     *</span>
<span class="sd">     * @return mixed</span>
<span class="sd">     */</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">after</span><span
                                                    class="p">(</span><span class="nx">RequestInterface</span> <span
                                                    class="nv">$request</span><span class="p">,</span> <span class="nx">ResponseInterface</span> <span
                                                    class="nv">$response</span><span class="p">,</span> <span
                                                    class="nv">$arguments</span> <span class="o">=</span> <span
                                                    class="k">null</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="c1">// ...</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre>
                                        </div>
                                    </div>
                                    <p>When run, this method first grabs an instance of the throttler. Next, it uses the
                                        IP address as the bucket name,
                                        and sets things to limit them to one request per second. If the throttler
                                        rejects the check, returning false,
                                        then we return a Response with the status code set to 429 - Too Many Attempts,
                                        and the script execution ends
                                        before it ever hits the controller. This example will throttle based on a single
                                        IP address across all requests
                                        made to the site, not per page.</p>
                                </section>
                                <section id="applying-the-filter">
                                    <h3><a class="toc-backref" href="#id4">Applying the Filter</a><a class="headerlink"
                                                                                                     href="#applying-the-filter"
                                                                                                     title="Permalink to this headline"></a>
                                    </h3>
                                    <p>We don’t necessarily need to throttle every page on the site. For many web
                                        applications, this makes the most sense
                                        to apply only to POST requests, though API’s might want to limit every request
                                        made by a user. In order to apply
                                        this to incoming requests, you need to edit
                                        <strong>app/Config/Filters.php</strong> and first add an alias to the
                                        filter:</p>
                                    <div class="highlight-html+php notranslate">
                                        <div class="highlight"><pre><span></span><span class="o">&lt;?</span><span
                                                class="nx">php</span>

<span class="k">namespace</span> <span class="nx">Config</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">Higgs\Config\BaseConfig</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">Filters</span> <span class="k">extends</span> <span
                                                    class="nx">BaseConfig</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="nv">$aliases</span> <span class="o">=</span> <span class="p">[</span>
        <span class="c1">// ...</span>
        <span class="s1">&#39;throttle&#39;</span> <span class="o">=&gt;</span> <span
                                                    class="nx">\App\Filters\Throttle</span><span
                                                    class="o">::</span><span class="na">class</span><span
                                                    class="p">,</span>
    <span class="p">];</span>

    <span class="c1">// ...</span>
<span class="p">}</span>
</pre>
                                        </div>
                                    </div>
                                    <p>Next, we assign it to all POST requests made on the site:</p>
                                    <div class="highlight-html+php notranslate">
                                        <div class="highlight"><pre><span></span><span class="o">&lt;?</span><span
                                                class="nx">php</span>

<span class="k">namespace</span> <span class="nx">Config</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">Higgs\Config\BaseConfig</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">Filters</span> <span class="k">extends</span> <span
                                                    class="nx">BaseConfig</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="nv">$methods</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s1">&#39;post&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">&#39;throttle&#39;</span><span
                                                    class="p">],</span>
    <span class="p">];</span>

    <span class="c1">// ...</span>
<span class="p">}</span>
</pre>
                                        </div>
                                    </div>
                                    <div class="admonition warning">
                                        <p class="admonition-title">Warning</p>
                                        <p>If you use <code class="docutils literal notranslate"><span class="pre">$methods</span></code>
                                            filters, you should <a class="reference internal"
                                                                   href="../incoming/routing.html#use-defined-routes-only"><span
                                                    class="std std-ref">disable Auto Routing (Legacy)</span></a>
                                            because <a class="reference internal"
                                                       href="../incoming/routing.html#auto-routing-legacy"><span
                                                    class="std std-ref">Auto Routing (Legacy)</span></a> permits any
                                            HTTP method to access a controller.
                                            Accessing the controller with a method you don’t expect could bypass the
                                            filter.</p>
                                    </div>
                                    <p>And that’s all there is to it. Now all POST requests made on the site will have
                                        to be rate limited.</p>
                                </section>
                            </section>
                            <section id="class-reference">
                                <h2><a class="toc-backref" href="#id5">Class Reference</a><a class="headerlink"
                                                                                             href="#class-reference"
                                                                                             title="Permalink to this headline"></a>
                                </h2>
                                <dl class="php method">
                                    <dt class="sig sig-object php" id="check">
                                        <span class="sig-name descname"><span class="pre">check</span></span><span
                                            class="sig-paren">(</span><em class="sig-param"><span
                                            class="pre">string</span> <span class="pre">$key</span></em>, <em
                                            class="sig-param"><span class="pre">int</span> <span
                                            class="pre">$capacity</span></em>, <em class="sig-param"><span class="pre">int</span>
                                        <span class="pre">$seconds</span></em><span class="optional">[</span>, <em
                                            class="sig-param"><span class="pre">int</span> <span
                                            class="pre">$cost</span> <span class="pre">=</span> <span
                                            class="pre">1</span></em><span class="optional">]</span><span
                                            class="sig-paren">)</span><a class="headerlink" href="#check"
                                                                         title="Permalink to this definition"></a></dt>
                                    <dd>
                                        <dl class="field-list simple">
                                            <dt class="field-odd">Parameters</dt>
                                            <dd class="field-odd">
                                                <ul class="simple">
                                                    <li><p><strong>$key</strong> (<span><code
                                                            class="xref php php-obj docutils literal notranslate"><span
                                                            class="pre">string</span></code></span>) – The name of the
                                                        bucket</p></li>
                                                    <li><p><strong>$capacity</strong> (<span><code
                                                            class="xref php php-obj docutils literal notranslate"><span
                                                            class="pre">int</span></code></span>) – The number of tokens
                                                        the bucket holds</p></li>
                                                    <li><p><strong>$seconds</strong> (<span><code
                                                            class="xref php php-obj docutils literal notranslate"><span
                                                            class="pre">int</span></code></span>) – The number of
                                                        seconds it takes for a bucket to completely fill</p></li>
                                                    <li><p><strong>$cost</strong> (<span><code
                                                            class="xref php php-obj docutils literal notranslate"><span
                                                            class="pre">int</span></code></span>) – The number of tokens
                                                        that are spent on this action</p></li>
                                                </ul>
                                            </dd>
                                            <dt class="field-even">Returns</dt>
                                            <dd class="field-even"><p>true if action can be performed, false if not</p>
                                            </dd>
                                            <dt class="field-odd">Return type</dt>
                                            <dd class="field-odd"><p><span><code
                                                    class="xref php php-obj docutils literal notranslate"><span
                                                    class="pre">bool</span></code></span></p>
                                            </dd>
                                        </dl>
                                        <p>Checks to see if there are any tokens left within the bucket, or if too many
                                            have
                                            been used within the allotted time limit. During each check the available
                                            tokens
                                            are reduced by $cost if successful.</p>
                                    </dd>
                                </dl>

                                <dl class="php method">
                                    <dt class="sig sig-object php" id="getTokentime">
                                        <span class="sig-name descname"><span
                                                class="pre">getTokentime</span></span><span
                                            class="sig-paren">(</span><span class="sig-paren">)</span><a
                                            class="headerlink" href="#getTokentime"
                                            title="Permalink to this definition"></a></dt>
                                    <dd>
                                        <dl class="field-list simple">
                                            <dt class="field-odd">Returns</dt>
                                            <dd class="field-odd"><p>The number of seconds until another token should be
                                                available.</p>
                                            </dd>
                                            <dt class="field-even">Return type</dt>
                                            <dd class="field-even"><p><span><code
                                                    class="xref php php-obj docutils literal notranslate"><span
                                                    class="pre">integer</span></code></span></p>
                                            </dd>
                                        </dl>
                                        <p>After <code class="docutils literal notranslate"><span
                                                class="pre">check()</span></code> has been run and returned false, this
                                            method can be used
                                            to determine the time until a new token should be available and the action
                                            can be
                                            tried again. In this case, the minimum enforced wait time is one second.</p>
                                    </dd>
                                </dl>

                                <dl class="php method">
                                    <dt class="sig sig-object php" id="remove">
                                        <span class="sig-name descname"><span class="pre">remove</span></span><span
                                            class="sig-paren">(</span><em class="sig-param"><span
                                            class="pre">string</span> <span class="pre">$key</span></em><span
                                            class="sig-paren">)</span> <span class="sig-return"><span
                                            class="sig-return-icon">&#x2192;</span> <span
                                            class="sig-return-typehint"><span class="pre">self</span></span></span><a
                                            class="headerlink" href="#remove" title="Permalink to this definition"></a>
                                    </dt>
                                    <dd>
                                        <dl class="field-list simple">
                                            <dt class="field-odd">Parameters</dt>
                                            <dd class="field-odd">
                                                <ul class="simple">
                                                    <li><p><strong>$key</strong> (<span><code
                                                            class="xref php php-obj docutils literal notranslate"><span
                                                            class="pre">string</span></code></span>) – The name of the
                                                        bucket</p></li>
                                                </ul>
                                            </dd>
                                            <dt class="field-even">Returns</dt>
                                            <dd class="field-even"><p>$this</p>
                                            </dd>
                                            <dt class="field-odd">Return type</dt>
                                            <dd class="field-odd"><p><span><code
                                                    class="xref php php-obj docutils literal notranslate"><span
                                                    class="pre">self</span></code></span></p>
                                            </dd>
                                        </dl>
                                        <p>Removes &amp; resets the bucket.
                                            Won’t fail if the bucket doesn’t exist.</p>
                                    </dd>
                                </dl>

                            </section>
                        </section>


                    </div>
                </div>
                <footer>
                    <div aria-label="Footer" class="rst-footer-buttons" role="navigation">
                        <a accesskey="p" class="btn btn-neutral float-left" href="sessions.html" rel="prev"
                           title="Session Library"><span aria-hidden="true" class="fa fa-arrow-circle-left"></span>
                            Previous</a>
                        <a accesskey="n" class="btn btn-neutral float-right" href="time.html" rel="next"
                           title="Times and Dates">Next <span aria-hidden="true"
                                                              class="fa fa-arrow-circle-right"></span></a>
                    </div>

                    <hr/>

                    <div role="contentinfo">
                        <p>&#169; Copyright 2019-2023 <a href="https://www.linkedin.com/in/jalexiscv" target="_blank">Jose
                            Alexis Correa Valencia</a>.
                            <span class="lastupdated">All Rights Reserved.
      </span></p>
                    </div>


                </footer>
            </div>
        </div>
    </section>
</div>
<script>
    jQuery(function () {
        SphinxRtdTheme.Navigation.enable(false);
    });
</script>

</body>
</html>